---
title: Go内存逃逸
date: 2025-04-12
draft: 
tags:
  - Go
---
# 什么是内存逃逸？

逃逸是指函数内部创建的对象或变量，在函数结束后仍然被其他部分引用或持有。

# 面试为什么问逃逸相关的内容

## 对内存管理的理解
1. 堆栈的区别：
	- 栈上内存的分配和释放由编译器自动管理，速度快但空间有限；
	- 堆上的内存分配需要运行时系统的参与，相对较慢但空间较大，由GC回收
2. 逃逸可能带来的影响：
	分配和回收开销增加，指针引用和内存安全，内存泄露风险
3. 识别逃逸场景，规避不必要的内存逃逸
# 导致内存逃逸的原因是什么

1. 栈空间和作用域
2. 编译时无法确定类型或大小
3. golang内存分配的基本原则
	- 指向栈上的指针不能被存储到堆中
	- 指向栈上的指针不能超过该栈对象的生命周期
# 常见的发生逃逸的情况与逃逸分析

