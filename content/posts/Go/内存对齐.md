---
title: Go内存对齐
date: 2023-11-16
draft: true
tags:
  - Go
---


先明确几个概念：

一、内存知识

1. 栈（stack）：由编译器自动分配释放，存放函数的参数值、局部变量的值、返回地址。临时变量等。
2. 堆（heap）：一般有程序员自身调用（malloc，calloc函数）来分配空间，通过free函数释放空间，但可能会因为程序员的编译失误造成内存的泄露，另外当程序结束的时候其动态申请的所有空间都将会由系统回收利用。
3. 数据段（data）/全局区（静态区）（static）：存放的是全局变量、静态变量、常数。根据存放的数据，数据段又可分为普通数据段（包括可读可写、只读数据段，存放静态初始化的全局变量或常量）、BSS数据段（存放未初始化的全局变量）。在采用段式管理的架构中，BSS（bss segment）通常是指用来存放程序中未初始化的全局变量的一块内存区域。
4. 文字常量区：常量字符串就是放在这里的。程序结束后由系统释放
5. 代码段：用于存放程序代码。这部分区域的大小在程序运行前就已经确定，并且内存区域通常属于只读, 某些架构也允许代码段为可写，即允许修改程序。在代码段中，也有可能包含一些只读的常数变量，例如字符串常量等

