---
title: "Goroutine和线程的区别"
date: 2025-04-10
draft: tr
tags : [                    # 文章所属标签
    "Go", 
]
---


# Goroutine和线程的区别

Goroutine和线程都是并发编程中的概念，但它们在实现和性能上有一些核心区别。

- Goroutine 是Go语言中的轻量级线程，由Go运行时管理。它们非常轻量，初始仅需如2KB的堆栈空间，并且堆栈大小可根据需要动态扩展和缩减.Goroutine由Go运行时进行调度，不直接依赖系统线程，因此创建和切换开销较小，效率更高。由于这些特性，Goroutine允许在单个程序中创建大量的并发任务，可以在不过分消耗系统资源的情况下自由地创建数十万到数百万个Goroutines
线程 是操作系统级别的并发单元，由操作系统直接支持。每个线程都由操作系统管理，并且占有一定的内存和CPU资源。创建、销毁和切换线程需要更多的资源，因此开销相对较大

- 线程的调度由操作系统内核负责，且在用户模式和内核模式之间切换会有一定的代价.由于线程需要占用一定的系统资源，所以在同一时间，并且在同一进程中，能够并发运行的线程数目有限。

在调度方面，Goroutines由Go语言的运行时调度，可以在用户空间进行调度，这样可以更高效地实现并发。而线程由操作系统调度，通常需要切换到内核态，这会引入一些额外的开销。

在开销方面，Goroutines的创建和销毁开销较小，可以轻松创建成千上万个Goroutines。而线程的创建和销毁开销相对较大，因为每个线程都有自己的堆栈和上下文信息。

在通信方面，Goroutines之间的通信通常通过通道（channel）进行，这种通信机制更易于使用和理解。而在传统的多线程编程中，线程之间的通信可能会涉及到共享内存的同步和互斥机制，这可能会导致一些难以调试和理解的问题

总的来说，Goroutines对资源的使用极其高效，使得开发者能在Go程序中轻松实现高并发。而线程则需要更多的系统资源，开发者需要仔细管理以防止程序性能下降。Goroutines更加轻量级、易用、高效。


那么python中的线程呢？
// go的goroutine和python线程的区别
// 1. goroutine是轻量级的线程，python的线程是重的线程
// 2. goroutine是协作式的，python的线程是抢占式的
// 3. goroutine是非阻塞的，python的线程是阻塞的
// 4. goroutine是非抢占式的，python的线程是抢占式的

// k8s编辑yaml，更新镜像后，apply该yaml， pod的变化状态都有什么，用户正在访问的话会发生什么，该如何避免这种情况的发生
// flannel的流量怎么走的(pod间互访）
// 客户k8s集群的规模
// k8s核心原理
// k8s从create一个pod的yaml，到pod的创建都发生了什么
// www.baidu.com从回车到显示都发生了什么
// go 通道的底层原理
// k8s的调度器